<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>小程序相关 | 张卓欣的学习记录</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://zzxzzxzzx123.github.io/zhang3.github.io//favicon.ico?v=1622213904180">
<link rel="stylesheet" href="https://zzxzzxzzx123.github.io/zhang3.github.io//styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="1.  数据绑定

小程序

data中初始化数据
修改数据： this.setData()

修改数据的行为始终是同步的


数据流：

单项： Model ---&gt; View




Vue

data中初始化数据
修改数据: t..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://zzxzzxzzx123.github.io/zhang3.github.io/">
        <img src="https://zzxzzxzzx123.github.io/zhang3.github.io//images/avatar.png?v=1622213904180" class="site-logo">
        <h1 class="site-title">张卓欣的学习记录</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://zzxzzxzzx123.github.io/zhang3.github.io/index.html" class="site-nav">
            首页
          </a>
        
      
        
          <a href="https://zzxzzxzzx123.github.io/zhang3.github.io/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/zzxzzxzzx123?tab=repositories" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      学习使我快乐
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script> | <a class="rss" href="https://zzxzzxzzx123.github.io/zhang3.github.io//atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">小程序相关</h2>
            <div class="post-date">2021-04-20</div>
            
            <div class="post-content" v-pre>
              <h2 id="1-数据绑定">1.  数据绑定</h2>
<ol>
<li>小程序
<ol>
<li>data中初始化数据</li>
<li>修改数据： this.setData()
<ol>
<li>修改数据的行为始终是同步的</li>
</ol>
</li>
<li>数据流：
<ol>
<li>单项： Model ---&gt; View</li>
</ol>
</li>
</ol>
</li>
<li>Vue
<ol>
<li>data中初始化数据</li>
<li>修改数据: this.key = value</li>
<li>数据流：
<ol>
<li>Vue是单项数据流： Model ---&gt; View</li>
<li>Vue中实现了双向数据绑定： v-model</li>
</ol>
</li>
</ol>
</li>
<li>React
<ol>
<li>state中初始化状态数据</li>
<li>修改数据: this.setState()
<ol>
<li>自身钩子函数中(componentDidMount)异步的</li>
<li>非自身的钩子函数中(定时器的回调)同步的</li>
</ol>
</li>
<li>数据流：
<ol>
<li>单项： Model ---&gt; View</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="2-获取用户基本信息">2. 获取用户基本信息</h2>
<ol>
<li>用户未授权(首次登陆)
<ol>
<li>button open-type=‘getUserInfo’</li>
</ol>
</li>
<li>用户已经授权(再次登陆)
<ol>
<li>wx.getUserInfo</li>
</ol>
</li>
</ol>
<h2 id="3-前后端交互">3. 前后端交互</h2>
<ol>
<li>语法: wx.request()</li>
<li>注意点:
<ol>
<li>协议必须是https协议</li>
<li>一个接口最多配置20个域名</li>
<li>并发限制上限是10个</li>
<li><strong>开发过程中设置不校验合法域名</strong>： 开发工具 ---&gt; 右上角详情 ----&gt; 本地设置 ---&gt; 不校验</li>
</ol>
</li>
</ol>
<h2 id="4-本地存储">4. 本地存储</h2>
<ol>
<li>语法: wx.setStorage() || wx.setStorageSync() || .....</li>
<li>注意点：
<ol>
<li>建议存储的数据为json数据</li>
<li>单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB</li>
<li>属于永久存储，同H5的localStorage一样</li>
</ol>
</li>
</ol>
<h1 id="扩展内容">扩展内容</h1>
<h2 id="1-事件流的三个阶段">1. 事件流的三个阶段</h2>
<ol>
<li>捕获: 从外向内</li>
<li>执行目标阶段</li>
<li>冒泡: 从内向外</li>
</ol>
<h2 id="2-事件委托">2. 事件委托</h2>
<ol>
<li>什么是事件委托
<ol>
<li>将子元素的事件委托(绑定)给父元素</li>
</ol>
</li>
<li>事件委托的好处
<ol>
<li>减少绑定的次数</li>
<li>后期新添加的元素也可以享用之前委托的事件</li>
</ol>
</li>
<li>事件委托的原理
<ol>
<li>冒泡</li>
</ol>
</li>
<li>触发事件的是谁
<ol>
<li>子元素</li>
</ol>
</li>
<li>如何找到触发事件的对象
<ol>
<li>event.target</li>
</ol>
</li>
<li>currentTarget VS target
<ol>
<li>currentTarget要求绑定事件的元素一定是触发事件的元素</li>
<li>target绑定事件的元素不一定是触发事件的元素</li>
</ol>
</li>
</ol>
<h2 id="3-定义事件相关">3. 定义事件相关</h2>
<ol>
<li>分类
<ol>
<li>标准DOM事件</li>
<li>自定义事件</li>
</ol>
</li>
<li>标准DOM事件
<ol>
<li>举例： click，input。。。</li>
<li>事件名固定的，事件由浏览器触发</li>
</ol>
</li>
<li>自定义事件
<ol>
<li>绑定事件
<ol>
<li>事件名</li>
<li>事件的回调</li>
<li>订阅方: PubSub.subscribe(事件名，事件的回调)</li>
<li>订阅方式接受数据的一方</li>
</ol>
</li>
<li>触发事件
<ol>
<li>事件名</li>
<li>提供事件参数对象， 等同于原生事件的event对象</li>
<li>发布方: PubSub.publish(事件名，提供的数据)</li>
<li>发布方是提供数据的一方</li>
</ol>
</li>
</ol>
</li>
</ol>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://zzxzzxzzx123.github.io/zhang3.github.io/post/implicit-super-constructor-object-is-undefined-for-default-constructor-must-define-an-explicit-constructor-cuo-wu/">
                  <h3 class="post-title">
                    Implicit super constructor Object() is undefined for default constructor. Must define an explicit   constructor错误
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
